import{r as t,j as i}from"./index-Bo4Bo-jH.js";import{w as g}from"./webgazer-CnEYb9Ii.js";const h=1e3;function m(){return"https://picsum.photos/1000?"+Math.random()}function p(){const[w,d]=t.useState(m),[o,x]=t.useState(m),[s,c]=t.useState(""),u=window.innerWidth/4,a=window.innerWidth-window.innerWidth/4,n=t.useRef(1/0),e=t.useRef(null);t.useEffect(()=>(g.setGazeListener((r,f)=>{r&&e.current!=="STOP"&&(r.x<u&&e.current!=="LEFT"&&e.current!=="RESET"?(n.current=f,e.current="LEFT"):r.x>a&&e.current!=="RIGHT"&&e.current!=="RESET"?(n.current=f,e.current="RIGHT"):r.x>=u&&r.x<=a&&(n.current=1/0,e.current=null),n.current+h<f&&(e.current==="LEFT"?c("left"):c("right"),e.current="STOP",n.current=1/0,setTimeout(()=>{c(""),d(o),x(m()),e.current="RESET"},200)))}).showVideoPreview(!0).showPredictionPoints(!0).begin(),()=>{try{g.end()}catch(r){console.warn("Error ending WebGazer:",r)}}),[u,a,o]);let l="translateX(0)";return s==="left"&&(l="translateX(-100vw)"),s==="right"&&(l="translateX(100vw)"),i.jsx("div",{className:"webgazer-wrapper",children:i.jsxs("div",{className:"img-container",children:[i.jsx("img",{src:w,alt:"Current",className:`random-image ${s}`,style:{transform:l}}),i.jsx("img",{src:o,alt:"Next",className:"random-image",style:{display:"none"}})]})})}export{p as default};
